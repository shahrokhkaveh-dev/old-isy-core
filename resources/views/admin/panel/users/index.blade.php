@extends('admin.panel.layout.master')
<meta name="csrf-token" content="{{ csrf_token() }}">
@section('content')
    <div class="pt-5">
        <div class="text-center add-btn">
            <a href="{{ route('admin.user.create') }}">
                <button class="btn btn-primary">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9.75 1C9.75 0.585786 9.41421 0.25 9 0.25C8.58579 0.25 8.25 0.585786 8.25 1L8.25 8.25H1C0.585786 8.25 0.25 8.58579 0.25 9C0.25 9.41421 0.585786 9.75 1 9.75H8.25V17C8.25 17.4142 8.58579 17.75 9 17.75C9.41421 17.75 9.75 17.4142 9.75 17V9.75H17C17.4142 9.75 17.75 9.41421 17.75 9C17.75 8.58579 17.4142 8.25 17 8.25H9.75L9.75 1Z"
                            fill="white"></path>
                    </svg>

                    افزودن کاربر جدید
                </button>
            </a>
        </div>
        <h5 class="title-card text-light">لیست کاربران</h5>
        <div class="d-flex justify-content-around main-record-boxes">
            <div class="bg-check-signup mt-1">
                <div class="d-flex justify-content-between">
                    <div class="mt-4 ms-2">
                        <form class="searcher1" method="get" action="{{ route('admin.user.index') }}">
                            @if (isset($_GET['page']))
                                <input type="hidden" value="{{ $_GET['page'] }}" name="page">
                            @endif
                            <input type="text" class="form-control" placeholder="جستجوی نام یا شماره..." name="search"
                                   id="admin_search_users"
                                   @if(isset($_GET['search'])) value="{{ $_GET['search'] }}" @endif>
                            @if (isset($_GET['perPage']))
                                <input type="hidden" value="{{ $_GET['perPage'] }}" name="perPage">
                            @endif
                        </form>
                    </div>
                    <div class="dropdown text-end mt-4 me-4 show-page-num d-none d-md-block">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                                data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="d-none d-md-inline-block">نمایش</span> (10)
                            <svg class="ms-1" width="12" height="6" viewBox="0 0 12 6" fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M11.5327 1.52796C11.8243 1.23376 11.8222 0.758893 11.528 0.467309C11.2338 0.175726 10.7589 0.177844 10.4673 0.472041L8.72 2.23501C8.01086 2.9505 7.52282 3.44131 7.1093 3.77341C6.7076 4.096 6.44958 4.20668 6.2185 4.23613C6.07341 4.25462 5.92659 4.25462 5.7815 4.23613C5.55042 4.20668 5.2924 4.09601 4.89071 3.77341C4.47718 3.44131 3.98914 2.95051 3.28 2.23501L1.53269 0.472042C1.24111 0.177845 0.766238 0.175726 0.472041 0.46731C0.177844 0.758894 0.175726 1.23376 0.467309 1.52796L2.24609 3.32269C2.91604 3.99866 3.46359 4.55114 3.95146 4.94294C4.45879 5.35037 4.97373 5.64531 5.59184 5.72409C5.86287 5.75864 6.13714 5.75864 6.40816 5.72409C7.02628 5.64531 7.54122 5.35037 8.04854 4.94294C8.53641 4.55114 9.08396 3.99867 9.7539 3.32269L11.5327 1.52796Z"
                                    fill="#97F7FF"></path>
                            </svg>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                            <li><a class="dropdown-item" href="{{ route('admin.user.index' , ['perPage'=>10]) }}">10</a>
                            </li>
                            <li><a class="dropdown-item" href="{{ route('admin.user.index' , ['perPage'=>50]) }}">50</a>
                            </li>
                            <li><a class="dropdown-item"
                                   href="{{ route('admin.user.index' , ['perPage'=>100]) }}">100</a></li>
                        </ul>
                    </div>
                </div>
                <div class="list-industrial-zone check-product">
                    <table id="admin_users_item_table">
                        <tbody>
                        <tr class="head-nav" id="admin_users_item_headers">
                            <th class="rounded-right"><span class="d-none d-md-block">#</span></th>
                            <th class="d-none d-md-table-cell">شماره</th>
                            <th class="d-none d-md-table-cell">نام</th>
                            <th class="d-none d-md-table-cell">وضعیت</th>
                            <th class="d-none d-md-table-cell">شرکت</th>
                            <th class="d-none d-md-table-cell">تاریخ عضویت</th>
                            <th style="width: 20%" class="rounded-left">عملیات</th>
                        </tr>
                        @foreach ($users as $key => $user)
                            <tr>
                                <td class="rounded-right">
                                    <span class="d-none d-md-block">{{ $user['id'] }}</span>
                                </td>
                                <td class="">{{ $user['phone'] }}</td>
                                <td class="d-none d-md-table-cell">{{ $user['name'] }}</td>
                                <td class="d-none d-md-table-cell">{{ $user['status'] }}</td>
                                <td class="d-none d-md-table-cell">{{ $user['brand_name'] }}</td>
                                <td class="d-none d-md-table-cell">{{ $user['created_at']->format('Y/m/d H:i') }}</td>
                                <td class="rounded-left" style="width: 8%">
                                    <a href="{{ route('admin.user.show', $user['id']) }}"
                                       class="btn btn-primary d-none d-md-inline-block">
                                        <svg width="12" height="10" viewBox="0 0 12 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M4.87451 5C4.87451 4.37868 5.37819 3.875 5.99951 3.875C6.62083 3.875 7.12451 4.37868 7.12451 5C7.12451 5.62132 6.62083 6.125 5.99951 6.125C5.37819 6.125 4.87451 5.62132 4.87451 5Z" fill="white"></path>
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M3.17538 1.79786C3.96114 1.1545 4.92904 0.625 5.99951 0.625C7.06999 0.625 8.03789 1.1545 8.82365 1.79786C9.6137 2.44473 10.2597 3.23932 10.6938 3.84401L10.7296 3.8938C10.9909 4.25692 11.2061 4.55583 11.2061 5C11.2061 5.44417 10.9909 5.74308 10.7296 6.10621L10.6938 6.15599C10.2597 6.76068 9.6137 7.55527 8.82365 8.20214C8.03789 8.8455 7.06999 9.375 5.99951 9.375C4.92904 9.375 3.96114 8.8455 3.17538 8.20214C2.38533 7.55527 1.73932 6.76068 1.30522 6.15599L1.26942 6.10621C1.00809 5.74308 0.792969 5.44417 0.792969 5C0.792969 4.55583 1.00809 4.25692 1.26942 3.8938L1.30522 3.84401C1.73932 3.23932 2.38533 2.44473 3.17538 1.79786ZM5.99951 3.125C4.96398 3.125 4.12451 3.96447 4.12451 5C4.12451 6.03553 4.96398 6.875 5.99951 6.875C7.03505 6.875 7.87451 6.03553 7.87451 5C7.87451 3.96447 7.03505 3.125 5.99951 3.125Z" fill="white"></path>
                                        </svg>
                                        <span class="text-light ">نمایش</span>
                                    </a>
                                    <a href="" class="d-md-none text-decoration-none">
                                        <svg width="36" height="36" viewBox="0 0 30 30" fill="none"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <rect width="30" height="30" rx="8" fill="#407BFF"/>
                                            <path
                                                d="M7.7233 22.5323L8.16414 21.9256L8.16414 21.9256L7.7233 22.5323ZM6.70932 21.5184L6.10256 21.9592L6.10256 21.9592L6.70932 21.5184ZM20.4447 22.5323L20.0038 21.9256L20.0038 21.9256L20.4447 22.5323ZM21.4586 21.5184L20.8519 21.0775L20.8519 21.0775L21.4586 21.5184ZM6.70932 8.797L6.10256 8.35616L6.10256 8.35616L6.70932 8.797ZM7.7233 7.78302L8.16414 8.38979L8.16414 8.38979L7.7233 7.78302ZM12.2596 7.66424C12.6738 7.65927 13.0056 7.31949 13.0006 6.9053C12.9956 6.49112 12.6558 6.15938 12.2417 6.16435L12.2596 7.66424ZM23.0773 17C23.0823 16.5858 22.7506 16.246 22.3364 16.2411C21.9222 16.2361 21.5824 16.5678 21.5774 16.982L23.0773 17ZM14.8151 18.8284L14.7323 18.083L14.8151 18.8284ZM11.0386 18.5557L10.5083 19.0861L10.5083 19.0861L11.0386 18.5557ZM10.7659 14.7793L11.5113 14.8621L10.7659 14.7793ZM11.8174 12.5915L11.2871 12.0611L11.2871 12.0611L11.8174 12.5915ZM11.0067 13.5484L10.3307 13.2235L10.3307 13.2235L11.0067 13.5484ZM17.0029 17.7769L17.5332 18.3072L17.5332 18.3072L17.0029 17.7769ZM16.046 18.5877L16.3709 19.2637L16.3709 19.2637L16.046 18.5877ZM14.084 22.6577C12.3487 22.6577 11.1074 22.6567 10.1473 22.5526C9.20116 22.4501 8.61738 22.2549 8.16414 21.9256L7.28246 23.1391C8.03402 23.6851 8.91196 23.9276 9.98569 24.0439C11.0454 24.1587 12.3821 24.1577 14.084 24.1577V22.6577ZM5.08398 15.1577C5.08398 16.8596 5.08295 18.1963 5.19777 19.256C5.3141 20.3297 5.55652 21.2076 6.10256 21.9592L7.31609 21.0775C6.98679 20.6243 6.79154 20.0405 6.68904 19.0944C6.58501 18.1343 6.58398 16.893 6.58398 15.1577H5.08398ZM8.16414 21.9256C7.83871 21.6891 7.55252 21.403 7.31609 21.0775L6.10256 21.9592C6.43152 22.412 6.82969 22.8102 7.28246 23.1391L8.16414 21.9256ZM14.084 24.1577C15.7859 24.1577 17.1226 24.1587 18.1823 24.0439C19.256 23.9276 20.1339 23.6851 20.8855 23.1391L20.0038 21.9256C19.5506 22.2549 18.9668 22.4501 18.0207 22.5526C17.0606 22.6567 15.8193 22.6577 14.084 22.6577V24.1577ZM20.8519 21.0775C20.6154 21.403 20.3293 21.6891 20.0038 21.9256L20.8855 23.1391C21.3383 22.8102 21.7364 22.412 22.0654 21.9592L20.8519 21.0775ZM6.58398 15.1577C6.58398 13.4224 6.58501 12.1811 6.68904 11.221C6.79154 10.2749 6.98679 9.69108 7.31609 9.23784L6.10256 8.35616C5.55652 9.10772 5.3141 9.98566 5.19777 11.0594C5.08295 12.1191 5.08398 13.4558 5.08398 15.1577H6.58398ZM7.28246 7.17626C6.82969 7.50522 6.43152 7.90339 6.10256 8.35616L7.31609 9.23784C7.55252 8.91241 7.83871 8.62623 8.16414 8.38979L7.28246 7.17626ZM12.2417 6.16435C10.0204 6.19097 8.47312 6.3112 7.28246 7.17626L8.16414 8.38979C8.91045 7.84756 9.96414 7.69175 12.2596 7.66424L12.2417 6.16435ZM21.5774 16.982C21.5499 19.2775 21.3941 20.3312 20.8519 21.0775L22.0654 21.9592C22.9305 20.7685 23.0507 19.2212 23.0773 17L21.5774 16.982ZM21.3967 12.3224L16.4726 17.2466L17.5332 18.3072L22.4574 13.3831L21.3967 12.3224ZM12.3478 13.1218L17.2719 8.19765L16.2113 7.13699L11.2871 12.0611L12.3478 13.1218ZM14.7323 18.083C13.6578 18.2024 12.9332 18.2811 12.3963 18.2637C11.8796 18.247 11.6869 18.1434 11.5689 18.0254L10.5083 19.0861C11.0134 19.5912 11.6577 19.7407 12.3479 19.7629C13.018 19.7846 13.8701 19.688 14.8979 19.5738L14.7323 18.083ZM10.0205 14.6965C9.9063 15.7243 9.80977 16.5764 9.83141 17.2464C9.8537 17.9366 10.0032 18.581 10.5083 19.0861L11.5689 18.0254C11.4509 17.9074 11.3473 17.7147 11.3306 17.198C11.3133 16.6612 11.392 15.9365 11.5113 14.8621L10.0205 14.6965ZM11.2871 12.0611C10.8729 12.4753 10.5341 12.8004 10.3307 13.2235L11.6826 13.8733C11.7498 13.7336 11.8613 13.6083 12.3478 13.1218L11.2871 12.0611ZM11.5113 14.8621C11.5873 14.1783 11.6155 14.013 11.6826 13.8733L10.3307 13.2235C10.1273 13.6466 10.0852 14.1143 10.0205 14.6965L11.5113 14.8621ZM16.4726 17.2466C15.9861 17.7331 15.8608 17.8446 15.7211 17.9117L16.3709 19.2637C16.794 19.0603 17.119 18.7214 17.5332 18.3072L16.4726 17.2466ZM14.8979 19.5738C15.4801 19.5092 15.9477 19.467 16.3709 19.2637L15.7211 17.9117C15.5814 17.9788 15.4161 18.007 14.7323 18.083L14.8979 19.5738ZM21.3967 8.19765C22.0228 8.82375 22.4379 9.2411 22.7058 9.59218C22.9604 9.92594 23.0104 10.1103 23.0104 10.26H24.5104C24.5104 9.65043 24.2548 9.1495 23.8983 8.68231C23.5551 8.23242 23.0535 7.73311 22.4574 7.13699L21.3967 8.19765ZM22.4574 13.3831C23.0535 12.787 23.5551 12.2877 23.8983 11.8378C24.2548 11.3706 24.5104 10.8697 24.5104 10.26H23.0104C23.0104 10.4098 22.9604 10.5941 22.7058 10.9279C22.4379 11.279 22.0228 11.6963 21.3967 12.3224L22.4574 13.3831ZM22.4574 7.13699C21.8612 6.54087 21.3619 6.0393 20.912 5.69605C20.4449 5.33959 19.9439 5.08398 19.3343 5.08398V6.58398C19.4841 6.58398 19.6684 6.63393 20.0022 6.88858C20.3533 7.15644 20.7706 7.57154 21.3967 8.19765L22.4574 7.13699ZM17.2719 8.19765C17.898 7.57154 18.3154 7.15644 18.6664 6.88858C19.0002 6.63393 19.1845 6.58398 19.3343 6.58398V5.08398C18.7247 5.08398 18.2238 5.33959 17.7566 5.69605C17.3067 6.0393 16.8074 6.54087 16.2113 7.13699L17.2719 8.19765ZM22.4574 12.3224L17.2719 7.13699L16.2113 8.19765L21.3967 13.3831L22.4574 12.3224Z"
                                                fill="white"/>
                                        </svg>
                                    </a>
                                    <a href=""
                                       class="delete-user px-1 px-md-4 " data-id="{{ $user->id }}">
                                        <svg width="36" height="36" viewBox="0 0 36 36" fill="none"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <rect width="36" height="36" rx="12" fill="#71787F"/>
                                            <path
                                                d="M18 7.25C15.3766 7.25 13.25 9.37665 13.25 12V12.25H10C9.58579 12.25 9.25 12.5858 9.25 13C9.25 13.4142 9.58579 13.75 10 13.75H26C26.4142 13.75 26.75 13.4142 26.75 13C26.75 12.5858 26.4142 12.25 26 12.25H22.75V12C22.75 9.37665 20.6234 7.25 18 7.25Z"
                                                fill="white"/>
                                            <path
                                                d="M24.5172 18.7795L24.2549 20.6645C23.9697 22.7132 23.8272 23.7376 23.5249 24.5603C22.9597 26.0988 21.9826 27.2447 20.8164 27.7368C20.1927 28 19.4618 28 18 28C16.5382 28 15.8073 28 15.1836 27.7368C14.0174 27.2447 13.0403 26.0988 12.4751 24.5603C12.1728 23.7376 12.0303 22.7133 11.7451 20.6645L11.4828 18.7795C11.4021 18.1993 11.3283 17.6695 11.2627 17.1829C11.1279 16.1834 11.0605 15.6837 11.3594 15.3418C11.6582 15 12.1718 15 13.199 15H22.801C23.8282 15 24.3418 15 24.6406 15.3418C24.9395 15.6837 24.8721 16.1834 24.7373 17.1829C24.6717 17.6693 24.5979 18.1995 24.5172 18.7795Z"
                                                fill="white"/>
                                        </svg>
                                    </a>
                                </td>
                            </tr>
                        @endforeach

                        </tbody>
                    </table>

                    {{ $users->links('vendor.pagination.admin-pagination') }}
                </div>
            </div>
        </div>
    </div>
@endsection
